#!/bin/bash
if [ -n $1 ]; then
        echo "Usage: 'ct_installer COMMAND"
        echo "To install run 'ct_instaler install'"
        echo "To install to a custom location, run 'ct_installer install_to LOCATION'"
        echo "To update the installer call 'ct_installer update_installer'"
        return
fi
case $1 in
        'install')
                mkdir ~/.commandstool &> /dev/null
                source ct_installer install_to ~/.commandstool/ct
                commandstool test_install
                ;;
        'install_to')
                
                ;;
        'update_installer')
                rm ct_installer
                wget https://raw.githubusercontent.com/AdrianVovk/BashCommands/master/ct_installer
                chmod +rwx ct_installer
                source ct_installer
                ;;
esac

install_ct() {
        read -n1 -p "Are you sure you want to do this? [y/n]:" call_safetey && echo
        if [ "$call_safetey" = "y" ]; then
                mkdir ~/.commandstool &> /dev/null
                wget -O ~/.commandstool/ct https://raw.githubusercontent.com/AdrianVovk/BashCommands/master/commandstool
                source ~/.bashrc
                echo "Testing installation"
                commands_tool_test
        else
                echo Abort Installation
        fi
}

install_custom_location() {
        read -n1 -p "Are you sure you want to do this? [y/n]:" call_safetey && echo
        if [ "$call_safetey" = "y" ]; then
                wget -O $1 https://raw.githubusercontent.com/AdrianVovk/BashCommands/master/commandstool
                chmod +x $1
                mkdir ~/.commandsutil
                echo $1 > ~/.commandsutil/script_location
                source $1
                echo "source $1" >> ~/.bashrc
                update_bash
                commands_tool_reset
                echo "Testing installation"
                commands_tool_test
        else
                echo Abort Installation
        fi
}
